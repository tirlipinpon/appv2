<div class="puzzle-game">
  @if (instructions) {
    <div class="game-instructions">
      <p>{{ instructions }}</p>
    </div>
  }
  @if (question) {
    <div class="game-question">
      <h2>{{ question }}</h2>
    </div>
  }
  <app-aide-section
    [aides]="aides"
    [aideImageUrl]="aideImageUrl"
    [aideVideoUrl]="aideVideoUrl">
  </app-aide-section>

  @if (isLoading()) {
    <div class="loading-container">
      <div class="loading-message">
        Chargement des pi√®ces... {{ imagesLoaded() }} / {{ totalImages() }}
      </div>
    </div>
  }

  <div
    #container
    class="puzzle-container"
    [class.disabled]="disabled || isSubmitted()">
  </div>

  <!-- Actions -->
  @if (!isSubmitted()) {
    <div class="actions">
      <button
        type="button"
        class="btn btn-primary"
        [disabled]="disabled"
        (click)="validate()">
        Valider
      </button>
    </div>
  }

  <app-game-error-actions
    [isSubmitted]="isSubmitted()"
    [isCorrect]="isCorrect()"
    (resetRequested)="reset()"
    (nextRequested)="nextRequested.emit()">
  </app-game-error-actions>

</div>
